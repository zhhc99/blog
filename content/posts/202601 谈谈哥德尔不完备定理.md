---
title: 谈谈哥德尔不完备定理
slug: godels-incompleteness-theorems-explained
date: 2026-01-18
author: hc
summary: 哲学解决数学尚未能找到定义的问题...
tags:
  - Math
---

> _封面图片来自 Joel David Hamkins 在 23 年的 [talk](https://jdh.hamkins.org/set-theory-with-abundant-urelements-stuk-10-oxford-june-2023/), 图文无关._

偶然刷到一个视频, 讲佛的:

[西方极乐世界楼阁能浮在空中没有万有引力吗丨定弘法师](https://www.bilibili.com/video/BV19ZBjBwE7z/)

大师说微观原子没有万有引力, 这大概是搞混了. 我去求证这件事, 然后很自然地和 Gemini 聊到了物理学. 我认为:

**物理学就是要寻找一族公理, 其能演算人类对世界的观测.**

然后我们聊到希尔伯特在大会上提出的 23 个问题 (给数学家留了 100 多年的作业 >\_<, 还把学生已经开工的简单题和黎曼猜想这样的难题并列, 真是个尽职尽责的导师). 在第 2 个问题中, 希尔伯特希望找到满足如下性质的一些**公理**:

1. 相容性: 公理彼此不矛盾.
2. 独立性: 公理不能由其他公理推导.
3. 完备性: 所有命题都能由这族公理证实或证伪.

将第三条的 "所有命题" 改为 "所有物理现象", 这就**定义了整个物理学的工作**. 很快, 30 年后, 哥德尔不完备定理 (及其相关理论) 说明了这件事的边界.

我对此很感兴趣. 我之前一直知道这件事的存在, 但并未深入了解. 这次我做了一些 (数学内外的) 调查, 其中涉及的哲学和数学原理, 以及它们带给我的思考实在是有趣. 我想分享给所有人一起讨论.

> 如果你对一些数学名词不熟悉, 后面的附录希望能帮到你. 我期待你至少懂点逻辑, 哲学和数学, 但不要懂太多.
>
> 文中的内容远不是严谨的数学证明. 附录里补充了些细节, 但还远远不够.

## 从集合和公理系统说起

我们得从数学的基石, 也就是集合开始 (毕竟我们要讨论的是公理和命题这样的底层玩具). 众所周知, 人类一开始是只会吱吱叫的猴子, 后来才产生**日常语言**. 日常语言里自然包含了 "真", "假", "与", "或" 这些逻辑概念, 说任何语言的人都对这些概念有**共识**. 于是, 人们定义了一些符号, 如 $\forall$, $\exists$, $\land$, 然后用日常语言解释它们, 这就构成了**一阶逻辑**. 简单来说: **日常语言作为元语言, 给这些符号赋予了含义, 构成了一阶逻辑**.

一阶逻辑定义了 **ZF 公理系统**:

- 万物**皆为**集合;
- 什么样的东西才能**叫做**集合;
- 如何合法**构造**新集合.

ZF 实际上由无限条公理构成, 这是因为它还声明了一些 "公理模式", 它们可以生成任何合法的公理 (就像 C++ 里的模板函数). ZF 中的替代公理模式是构造新集合的主要手段, 它就可以用来声明 "**后继函数** $S(x) := x \cup \{x\}$ 生成的东西是合法集合". 后继函数是相当本质的东西. 令:

$$
\begin{align*}
0 & := \emptyset               \\
1 & := S(0) = \{ 0 \}          \\
2 & := S(1) = \{ 0, \{ 0 \} \}
\end{align*}
$$

这实际上定义了每个自然数. ZF 的无穷公理导出了自然数集 $\mathbb{N}$, 然后就产生实数:

$$
\mathbb{N} \xrightarrow{\text{等价类}} \mathbb{Z} \xrightarrow{\text{等价类}} \mathbb{Q} \xrightarrow{\text{Dedekind 分割}} \mathbb{R}
$$

你可能听说过罗素悖论: **所有集合的集合是集合吗?** 罗素只是手动规定它 "不是集合", 而 ZF 系统很自然地抹杀了它 (没有构造法).

所以, 不管极乐世界是否浮在空中, 至少数学世界是浮在空中的对吧: 这一切最终建立在人类对日常语言的共识之上, 而那个共识, 没有任何东西能为它托底.

## 语言的力量很渺小

ZF 系统可以有多种公理组合: 有 "模板函数" 存在, 人们可以自由构造集合. 既然能自由构造, 人们不由得想知道上限在哪.

一个明显的可能性是**冯诺伊曼全域** $V$, 它用幂集公理反复构造集合:

$$V_0 = \emptyset, \quad V_{\alpha+1} = \mathcal{P}(V_\alpha), \quad V = \bigcup_{\alpha \in \text{Ord}} V_\alpha$$

**ZF 能定义的所有集合都在 $V$ 的某一层里.** 教材里的高等数学, 其框架一般是 $V$ 下的 ZF, 加上**选择公理** (Axiom of Choice, AC). 学过数学的都知道, AC 是一个很奇怪的东西, 因为它完全等价于良序原理:

$$
\underbrace{AC}_{\text{任意无穷堆球，总能从每堆里取出一个}} \iff \underbrace{\text{良序原理}}_{\text{实数存在 "最小值"}}
$$

最终人们证明了 AC 独立于 $V$ 下的 ZF. 类似的还有**连续统假设** (CH), 它也与 ZF 完全独立.

然后哥德尔问了一个更刻薄的问题: 如果只保留能被语言描述的集合, 数学还剩多少? 这就是**可构造宇宙** $L$. 它用另一种幂集 $\mathcal{P}_{def}$ 来构造: $\mathcal{P}_{def}$ 只取能被一阶公式描述的子集. $V$ 和 $L$ 在自然数的范围内完全一致. 分叉发生在**从自然数跨向实数的那一步**: $V$ 取自然数的所有子集, 得到不可数无穷多个实数; $L$ 只取能被公式描述的子集, 而公式只有可数个, 所以 $L$ 里的 "实数" 也只有可数个.

令人感叹的是, AC 和 CH 在 $L$ 直接成立, 不需要假设. 它们的独立性, 原来只是 $V$ 中那些无名集合的投影.

当下数学用到的几乎都在 $L$ 里. 人类能写下的全部知识, 大概也是.

可以把 $V$ 比作真理, 而 $L$ 是语言能描述的真理. $L$ 在 $V$ 中渺小得如同测度为 0 一般.

## 自指系统的不完备

回到希尔伯特老头的愿望上:

1. 相容性: 公理彼此不矛盾.
2. 独立性: 公理不能由其他公理推导.
3. 完备性: 所有命题都能由这族公理证实或证伪.

哥德尔让这个愿望破碎得彻底. 笼统地说, 只要一个独立的公理系统包含了最基本的算术, 那么:

1. 如果它相容, 那么它必定不完备.
2. 它的相容性无法在系统内自证.

相容性非常复杂, 但我可以简明解释完备性的精妙之处. 类似于某些悖论, 哥德尔希望构造这样的命题:

$$
G: G \, \text{不可证}
$$

则 $G$ 自己就能攻破整个完备性, 但前提是 $G$ 得是个合法命题. 了解过 ZF 系统后, 你知道这需要说明:

- "可证" 是一阶逻辑.
- $G$ 是个集合.
- $G$ 能被明确构造.

语言这样的高级系统具有谈论自身的能力. 令人吃惊的是, 算术这样的简单系统也能.

### 把公式变成数

在哥德尔的年代, 人们还没从 "数" 走向集合, 因此哥德尔用 "数" 来完成证明. 它们没有本质区别, 你不妨把这里的 "数" 当成集合.

回到正题. 公式本质上就是只能使用特定字符的字符串, 如 $0 = 0$, $\exists x (x > 0)$ 等, 你也可以写得更复杂. 哥德尔列出了一张映射表, 把这些符号编码到自然数:

| 符号 | $0$ | $S$ | $=$ | $>$ | $\neg$ | $\exists$ | $($ | $)$ | $x$ | $y$ |
| ---- | --- | --- | --- | --- | ------ | --------- | --- | --- | --- | --- |
| 编码 | 1   | 3   | 5   | 7   | 9      | 11        | 13  | 15  | 991 | 997 |

因此每个公式都是有限长的序列:

- $0=0$: $\ulcorner 1, 5, 1 \urcorner$
- $\exists x (x > 0)$: $\ulcorner 11, 991, 13, 991, 7, 1, 15 \urcorner$

现在只需将序列变成数. 由**算术基本定理**, 哥德尔将数列和数唯一对应:

$$
\ulcorner a_1, \ldots, a_n \urcorner = 2^{a_1} 3^{a_2} 5^{a_3} \cdots p_n^{a_n}
$$

问题就这么被轻松解决了. 然而, 算术基本定理调用了整个素数结构, 这太重了, 我们要做的事只是把序列变成数而已. 于是, 哥德尔又找到了一个同余关系式 $\beta$:

$$
\beta(a,b,i) = a \bmod (b \cdot (i+1) + 1)
$$

任意给定一个有限序列 $\ulcorner a_1, \ldots, a_n \urcorner$. 由孙子剩余定理, 存在 $a,b$ 使得 $\beta(a,b,i) = a_i$, 而这正是我们要的 "编码"! 于是公式被编码成 3 个数: $a$, $b$, 以及公式的长度. 就像字符串以 `\0` 结尾那样, 我们可以约定用 $a_{n+1}=0$ 表示公式完毕, 于是进一步缩减到 2 个数. 然后用熟悉的技巧:

$$
(x,y) \rightarrow y + \frac{(x+y)(x+y+1)}{2}
$$

2 个数变成了 1 个数 (当然, 也可以从 3 个数开始, 连续用 2 次这个技巧). 最终, 序列被编码成了数.

$\beta$ 和那个压缩数对的唯一可计算性都依赖自然数集合, 但当落实到具体的数字时, 其演算只依赖最基本的算术 (当然这需要证明). 换句话说, **哥德尔编码只依赖 $0$, $S$, $+$, $\times$ 这四种基本算术语言.**

### "代入" 只是一些算术

有了编码工具后, 再复杂的证明不过是有限个数字构成的序列, 于是 "可证" 这件事变成了 "存在某个编码", 命题也不过是一个编码. 剩下的问题只是如何构造 $G$, 也就是找到 $G$ 的编码.

$G$ 不能凭空引用自身, 它得先存在, 然后才能被谈论. 为了找到这个 $G$, 哥德尔用了迂回战术.

用 $\lceil \cdot \rceil$ 表示**编码关系**: 符号的编码可以查表得到, 公式的编码我们刚刚讨论过了, 也是可计算的. 哥德尔找到了这样一个**代入关系**:

$$
\text{sub}(\lceil \varphi \rceil, \lceil v \rceil, \lceil n \rceil)
$$

其含义是: 在公式 $\varphi$ 中, 把变量 $v$ 替换为数 $n$. 在演算时, 它的三个参数必须填写具体的编码数字.

**其实就是代入变量, 但它现在是能被公式使用的算术了.**

我们到了逻辑最有挑战性的地方: 用 $\text{prf}(m)$ 表示编码为 $m$ 的命题可证. 拿来一个变量 $v$, 其编码为 $t$. 定义公式

$$
\varphi(v): \neg\text{prf}(\text{sub}(v, t, \lceil v \rceil))
$$

你可能感到头晕, 所以我举个例子来帮你理清. 当我们将 $v$ 用具体的数 $k$ 代入时, 公式为:

$$
\varphi(k): \neg\text{prf}(\text{sub}(k, t, \lceil k \rceil))
$$

这样三个参数都是确切的编码数字了. 它的含义很明确:

> **在编码为 $k$ 的公式中, 把变量 $v$ 替换为数 $k$, 所得命题不可证**.

现在令 $m = \lceil \varphi(v) \rceil$. 我们考察 $\varphi(m)$ 是什么. 由定义它在说:

> **在编码为 $m$ 的公式中, 把变量 $v$ 替换为数 $m$, 所得命题不可证**.

编码为 $m$ 的公式, 这不就是 $\varphi(v)$ 嘛. 然后把变量 $v$ 替换为数字 $m$... 嗯, 这就是

$$
\varphi(m): \neg\text{prf}(\varphi(m))
$$

这就是要找的 $G$ 了.

### 回到完备性

有了 $G$ 之后, 很明显:

- 如果 $G$ 是真的, 那么 $G$ 不可证.
- 如果 $G$ 是假的, 那么 $G$ 可证. 但 $G$ 说自己不可证, 这构成了矛盾.

于是 $G$ 是真的, 系统总存在不可证的命题, 完备性被攻破了. 刚刚其实我们已经揭示了, 这一切都只依赖 $0$, $S$, $+$, $\times$ 这四个算术语言, 而这些东西存在于几乎任何数学领域...

有例外吗?

## 心智未开的世界

如果想要例外, 我们得从本就不多的 $0$, $S$, $+$, $\times$ 中拿掉一些. $0$ 和 $+$ 似乎太基础了, 我们可以尝试:

- 拿掉 $S$
- 拿掉 $\times$

我们看看拿掉 $S$ 会发生什么. 这个世界可以扩张到一个我们熟悉的样子, 大家管它叫**尺规作图**, 或者**欧式几何**:

- 有 $0$, $1$, $+$, $\cdot$, $<$
- 分别对应: 原点, 单位长度, 线段拼接, 相似比, 方向.

**欧式几何是完备的**, 尽管它相当大. 得益于平行线公理引导的勾股定理, 它甚至有代数数 $\sqrt{2}$. 但直尺和圆规的表达力, 某种意义下居然比简单的后继要弱: 它没有 $S$, 没有归纳法. 每个自然数都存在, 却构建不出自然数集合.

看起来 $S$ 确实是不完备的风险因素. 然而, 我用 $\cdot$ 而不是 $\times$ 来指代欧式几何的乘法, 这是有意为之. 欧式几何的乘法来自于三角形相似, 它是瞬时完成的, 不是从加法一次次叠加来的. 我想用这个来提醒你, 危险也会来自于 $\times$. 有这样一个系统:

- 有 $0$, $S$, $+$, $<$
- 有归纳法, 但要求必须是上述原始符号

**这系统叫 Presburger 代数, 它也是完备的.** 对于普通的自然数, 有了 $+$ 就会一次次叠加得到 $\times$. 但在 Presburger 代数, 归纳法限制了符号, 故完全没法产生 $\times$.

所以问题出现在哪里? 说到底, **$0$ 和 $S$ 提供了用来编号的离散结构, 而 $\times$ 这样的叠加式乘法提供了模拟任意复杂运算的表达力.** 这些是我们人类生而具备的.

我们终究只能在心智未开的平凡世界寻求完美. 在意识成长的那一瞬间, 无尽的探索游戏就开始了.

## 后记

是的, 学术相关的探讨就到此为止了. 很多东西想说, 但并没总结成合适的语言, 因此没有提及. 混沌的大脑总是产生一些平凡却令自己着迷的思想.

如果要做个总结, 那就是说: 在人类的眼里, 算术, 计数和逻辑只能是同一回事. 人类的语言强大, 但理解能力弱小.

幸运的是, 这点微弱的理解能力能让我这样平凡的人也意识到这件事的存在. 我为此感到久违的欣慰.

## 一些问题

我想在此抛出几个问题, 它们就像对美食的回味.

- ZF 系统天然定义了 $0 = \emptyset$. 为什么现代数学似乎对此避而不谈?
- 尝试仅用 $0$, $S$, $+$, $\cdot$ 定义 $<$, 进而定义 $\bmod$. 注意这个 $\bmod$ 只定义了 "什么是余数", 它没宣言余数存在或唯一.
- 定义公式 $\varphi(x)$ 为 $x=S(0)$. 按文中的表, 用算术基本定理将其编码, 然后执行替换 $\text{sub}(m, \lceil x \rceil, \lceil S(0) \rceil)$.
- 如果你熟悉群论或环论, 尝试将某族公理下的全体命题在等价关系下看作等价类. $\oplus$ (异或) 和 $\land$ 下, 这是一个布尔环 $R$, 而相互独立的公理作为其中的一组生成元, 可以生成一个理想 $I$.
  - 用理想的语言描述空间的相容性.
  - 用理想的语言描述第一不完备性定理.
