---
title: 谈谈哥德尔不完备定理
slug: godels-incompleteness-theorems-explained
date: 2026-01-18
author: hc
summary: 哲学解决数学尚未能找到定义的问题...
tags:
  - Math
---

> _封面图片来自 Joel David Hamkins 在 23 年的 [talk](https://jdh.hamkins.org/set-theory-with-abundant-urelements-stuk-10-oxford-june-2023/), 图文无关._

偶然刷到一个视频:

[西方极乐世界楼阁能浮在空中没有万有引力吗丨定弘法师](https://www.bilibili.com/video/BV19ZBjBwE7z/)

视频里说微观原子没有万有引力, 这大概是搞混了. 我来求证这件事, 然后很自然地和 gemini 聊到了物理学. 我认为:

> 物理学的本质是寻找一族公理, 其能满足人类观测的世界规律.

然后 gemini 提及了希尔伯特在大会上提出的 23 个问题 (给数学家留了 100 多年的作业 >\_<, 还把学生手上的简单问题和黎曼猜想并列, 令人感动). 在第 2 个问题中, 希尔伯特希望找到满足如下性质的一些**公理**:

1. 相容性: 公理彼此不矛盾.
2. 独立性: 公理不能由其他公理推导.
3. 完备性: 所有命题都能由这族公理证实或证伪.

将第三条的 "所有命题" 改为 "所有物理现象", 这就**定义了整个物理学的工作**. 当然, 30 年后, 哥德尔不完备定理 (及其相关理论) 很快就说明了这件事的边界.

我对此很感兴趣. 我一直知道这件事的存在, 但并未深入了解. 这次我做了一些 (数学以内和以外的) 调查, 其中涉及的哲学和数学原理, 以及它们带给我的思考实在是有趣. 我想分享给所有人一起讨论.

## 集合和 ZF 公理系统

我们得从数学的基石, 也就是集合开始 (毕竟我们要讨论的是公理和命题这样的底层玩具). 众所周知, 人类一开始是只会吱哇乱叫的猴子, 后来才有大脑里一坨坨神经元通电导出的语言, 称为**元语言**. 你看, 任何国家的语言都有 "真", "假", "与", "或", 这类逻辑概念对吧, 于是人们开始捣鼓数学的**对象语言**, 即那些 $\forall$, $\exists$, $\land$. 这些人用元语言和对象语言定义了**一阶逻辑**, 然后定义了 **ZF 公理系统** (如果你对此感到一头雾水, 附录详细讨论了一些细节). ZF 系统基本上规定了:

- 万物**皆为**集合;
- 什么样的东西才能**叫做**集合;
- 如何合法**构造**新集合.

ZF 实际上可以由有限或无限条公理构成, 这是因为它还声明了一些 "公理模式", 它们可以生成任何合法的公理 (就像 C++ 里的模板函数). ZF 中的替代公理模式是构造新集合的主要手段, 它就可以用来声明 "**后继函数** $S(x) := x \cup \{x\}$ 生成的东西是合法集合". 令:

$$
\begin{align*}
0 & := \emptyset               \\
1 & := S(0) = \{ 0 \}          \\
2 & := S(1) = \{ 0, \{ 0 \} \}
\end{align*}
$$

这实际上定义了每个自然数 (而要产生自然数集合则需要更复杂些), 然后在群论下产生整数和有理数, 再经过一次幂集 (戴德金分割) 得到实数 (是的, 每个实数本质上也是由一堆有理数构成的集合).

> ZF 系统避免了 "所有集合的集合" 这类怪东西. 附录也讨论了这一点.

你可能已经注意到: 人们用元语言定义一阶逻辑, 然后定义集合, 但一阶逻辑的定义看起来反而依赖集合, 好似一个编译器自举, 属于是左脚踩右脚了 (其实并不). 所以, 不管极乐世界是否浮在空中, 至少数学世界是浮在空中的对吧.

## 可构造宇宙

ZF 系统可以有多种公理组合: 有**替代公理模式**作为 "template function" 存在, 人们可以控制哪些集合是 "可能产生" 的, 所以人们很关心 "所有可能的集合" 到底有哪些.

一个明显的可能性是**冯诺伊曼全域** $V$, 它用幂集公理反复构造集合, 因此它就是最宽广的那个. 具体来说:

- 先构造 $V_0 = \emptyset$.
- 然后逐层构造幂集 $V_{\alpha + 1} = \mathcal{P}(V_\alpha)$, 直到开心为止. 这里的 $\alpha$ 是**序数**, $\alpha + 1 := \alpha \cup \{ \alpha \}$.

> 通过有限的公理, 我们可以定义序数. 然后我们不断 "实例化" 更多的替代公理, 一层层构造幂集. $\omega$ 是自然数势, 要想产生实数, 必须到 $V_{\omega + 1}$; 但要想把更多事情讨论清楚, 仅此还不足以让数学家开心...

学校里学到的数学, 其框架一般是**冯诺伊曼全域** $V$ 下的 ZF, 加上**选择公理** (Axiom of Choice, AC). AC 是一个很奇怪的东西, 人们觉得它明显是合理的, 但又觉得其等价命题 (**良序**性的普适) 明显是不合理的. 最终人们证明了 AC 独立于 $V$ 下的 ZF, 无论是否加入都不改变 $V$ 下 ZF 的相容性.

> 如果需要回忆的话: AC 允许给任意集合定义挑选函数, 将非空子集映射到其中的一个元素; 良序原理说任何集合都有最小元. AC 和良序原理彼此等价, 但 AC 看起来顺理成章, 而良序原理非常反直觉 (它说明存在一个序使得实数有 "最小值"). 另外要强调的是, 最小元 (良序, $x$ 比任何元素都小) 比极小元 (良基, $x$ 比任何 "能与 $x$ 比较" 的元素都小) 要强得多, 而后者仅仅对应于正则公理 + 替代公理模式导出的超限归纳法.

就在这里, 哥德尔的**可构造宇宙** $L$ 出现了. $L$ 把 $V$ 中的每一层函数由 $\mathcal{P}$ 改为了 $\mathcal{P}_{def}$:

$$
\mathcal{P}_{def}(X) = \{ \{ y \in X \mid (X, \in) \models \phi(y, z_1, \dots, z_n) \} \mid \phi \in \text{Form}, z_1, \dots, z_n \in X \}
$$

说人话就是: $\mathcal{P}_{def}(X)$ 只包含那些能用**一阶逻辑公式** $\phi$ 明确定义的子集. 在自然数序数 $\omega$ 以下, $V_\alpha$ 和 $L_\alpha$ 是相等的:

$$
\begin{alignat*}{2}
V_0 &= L_0 && = \emptyset \\
V_1 &= L_1 && = \{ \emptyset \} \\
V_2 &= L_2 && = \{ \emptyset, \{ \emptyset \} \} \\
\dots \\
V_\omega & = L_\omega && = \bigcup_{\alpha < \omega} V_\alpha
\end{alignat*}
$$

但如果需要下一层, 这立刻就变了:

- $V_{\omega+1} = \mathcal{P}(V_\omega)$: 它包含了自然数集 $\mathbb{N}$ 的所有子集. 根据康托尔定理, 这个集合的大小是**不可数**的 (势为 $2^{\aleph_0}$).
- $L_{\omega+1} = \mathcal{P}_{def}(L_\omega)$: 因为一阶逻辑公式 $\phi$ 的长度有限, 所以其全体是可数的 (这就好像说有理数可数一样自然), $L_\omega=\mathbb{N}$ 作为公式的参数集也是可数的, 所以 $L_{\omega+1}$ 是**可数**的!

这说明了 $L$ 和 $V$ 的巨大差异. 回到刚才聊的 AC 上, ZF 是良基 (任何集合都有极小元) 但不是良序的 (任何集合都有最小元). $V$ 下的 ZF 与完全独立, 而 $L$ 下的 ZF 中, AC 只是一个普通的**真命题** (从 $\mathcal{P}_{def}(X)$ 的定义想想为什么!), 所以看起来 $L$ 很规整, 看起来一切都.

实际上 $\mathcal{P}(\mathbb{N}) = V_{\omega + 1}$ 就是实数集 $\mathbb{R}$. 所以 $L_{\omega + 1}$ 中少了什么? 从人类的角度我们感觉什么也没少. 过去, 现在, 未来里, 一切能被人类在有限时间内定义, 或用程序或人脑的算法计算的实数 (例如 $\sqrt{2}$ 和 $\pi$) 都在里面. 尽管实数集是不可数的, 但人类**能探索到的**具体实数都在这个可数的范围内.

你或许已经从这里意识到**不完备定理**的根源所在了. 如果 $V$ 是真理, 那么 $L$ 就是语言能描述的真理, 它在 $V$ 中的 "测度" 是可悲的 $0$.

<!-- 从结果上来说, ZF 系统蕴含了**数学归纳法** (无穷公理) 和**超限归纳法** (正则公理 + 替代公理模式).  -->

## 不完备定理

回到希尔伯特老头的愿望上:

> 1. 相容性: 公理彼此不矛盾.
> 2. 独立性: 公理不能由其他公理推导.
> 3. 完备性: 所有命题都能由这族公理证实或证伪.

哥德尔让这个愿望破碎得彻底. 笼统地说, 只要一个独立的公理系统包含了最基本的算术, 那么:

1. 如果它相容, 那么它必定不完备.
2. 它的相容性无法自证 (必须引入新的公理, 构造新系统. 但新系统的相容性又无法自证...).

最原始的论证动机如下: 哥德尔希望构建这样的东西 $P$:

$$
P \, \text{不可证明.}
$$

如果 $P$ 是一个命题, 那这立刻就推出了不完备性, 因为它自身就构成了矛盾. 但这个 $P$ 还不是一个命题: 首先, $P$ 得先把 $P$ 写成一阶逻辑公式才能引用自己, 这本身就是无限套娃; 其次, 我们得把 "$P$ 的证明" 写成一阶逻辑公式.

为了说明这件事, 得从人类元语言的局限性开始思考. 回忆 ZF 的 "万物皆集合" 理念, 我们这里考虑 "万物皆算术", 或 **"逻辑皆算术"**. 我们先要将公式算术化. 公式本质上就是一个只能使用特定字符的字符串. 先写一个映射表:

| 符号 | $0$ | $S$ | $=$ | $>$ | $\neg$ | $\exist$ | $($ | $)$ | $x$ | $y$ |
| ---- | --- | --- | --- | --- | ------ | -------- | --- | --- | --- | --- |
| 编码 | 1   | 3   | 5   | 7   | 9      | 11       | 13  | 15  | 991 | 997 |

注意这里我们用了自然数. 既然如此, 我们顺便用一下算术基本定理 (嘿嘿), 就能将公式通过映射 $G$ 编码成自然数了. 例如:

$$
\begin{align*}
G(0=0) & = 2^1 3^5 5^1 \\
G(\exist x (x>0)) & = 2^{11} 3^{991} 5^{13} 7^{991} 9^{7} 11^{1} 13^{15}
\end{align*}
$$

只要精心设计映射表, 无论有多少符号, 我们都找到了**公式到自然数的可计算单射**, 即**哥德尔编码**.

**命题是变量前必须有量词的一阶逻辑公式, 证明是一阶逻辑公式的有限序列**, 否则就存在人类无法讨论的命题或无法验证的证明. 很容易由此联想到, 只要将公式成功自然数化, 就能将命题和证明自然数化, 并且证明不仅自身是自然数, 还是一个确定的**自然数序列**. 接下来就能在一阶逻辑下定义这 3 个东西:

1. $Bew(x, y)$: $x$ 是一个证明, 且其公式序列的最后一个元素是公式 $y$.
2. $Thm(x)$: $x$ 是可证的. 这可以通过 $Thm(x) \equiv \exists p Bew(p, x)$ 直接定义.
3. $sub(x,v,n)$: 这是一个代换泛函: $x$ 是一个公式, $v$ 是一个变量符号, $n$ 是一个公式对应的自然数. 输出一个新公式, 新公式将 $x$ 中的 $v$ 全部替换成自然数 $n$.

> 你可能觉得 $sub$ 很抽象. 咱们举个例子: 假设 $x$ 是 "$y = 0$", $n=77$, 那么 $sub(x,y,n)$ 的输出为 $0=77$. 这样看是不是简单多了!

现在一切都已经准备就绪. 定义公式

$$
Q(x) = \neg Thm(sub(x, v, x))
$$

则该公式一定有个确切的, 可计算的哥德尔编码 $q=G(Q(x))$. 然后可以定义命题

$$
P = \neg Thm(sub(q, v, q))
$$

于是 $P$ 的定义是: 编码为 $G(P)$ 的命题不可证. 但编码为 $G(P)$ 的命题就是 $P$, 于是 $P$ 是不可证明或证伪的命题. 这就论证了上面的第一条定理, 也就是**哥德尔第一不完备定理**.

你可能关心: 要想让完备性崩坏, 这个算术得强大到什么程度? 实际上不需要算术基本定理也不需要整个自然数集合 (即不需要归纳法), 只需允许每个自然数, 允许加法和乘法就行了, 甚至交换律, 结合律, 分配率都无法证明有效 (尽管它们对一些特定数是有效的. 这种结构叫 **Robinson 代数**). 是的, 即便如此简陋, 依旧有个编码方法 (如果你感兴趣的话, 它叫哥德尔的 $\beta$ 函数, 基于**孙子剩余定理**, 只依赖整除, 互素, 取模) 能将公式编码到唯一的二元组或三元组, 然后由康托配对函数将这个有限元组编码到唯一自然数 (然后又产生了 $Bew$, $Thm$, $sub$, 然后...).

哥德尔不完备定理本质上揭示了**算术和逻辑的同一性**. 但既然说到了加法和乘法, 那就离不开**环论**. 将某族公理下的全体命题看作**等价关系**下的等价类, 这些等价类在一阶逻辑下自然构成布尔环 $R$, 其加法是 "$\oplus$" (异或), 乘法是 "$\land$". 相互独立的公理作为其中的一组生成元 $\Sigma$ (就像向量空间的基函数), 可以生成**理想** $I$. 特别地, 如果 $I=R$, 那么 $1 \in I$, 即 $0$ 和 $1$ 都是公理, 于是整个公理系统不相容. 注意, 无论是等价关系还是理想的生成, 都依赖于公理 $\Sigma$ 定义的可证关系. 现在, 第一不完备性基本上是在说:

- 当公理包含基础算术时, $\Sigma$ 生成的理想 $I$ 不可能是 $R$ 中的极大理想, 除非 $I=R$.

> 第二不完备性原理要求我们构造相容函数 $Consis(T) \coloneqq \neg \exists p Bew(p, \ulcorner 0=1 \urcorner)$ 并说明它不可证, 这会复杂得多, 不太能在这里说清楚了.

## 完美世界: 欧式几何

那么有没有相容且完备的公理系统? 有的, 那就是既熟悉又陌生的**欧式几何**, 这是一套非常简洁的, 以点作为元素的公理.

你肯定熟悉**尺规作图**: 一把尺子, 一个圆规, 一个平面, 就能产生许多奇妙的东西. 从现代的角度看, 它对应的是**二次封闭域** (能解有实根的二次方程). 欧式几何的逻辑更强, 它对应**实封闭域** (能解奇数次多项式方程), 这基本上是 "无法找到 $\pi$ 这类超越数的实数集".

欧式几何的尺子也没有 "刻度" 的概念, 它**无法定义自然数**, 无法定义序列, 极限, 等等. 实际上这和平面的平坦性 (平行线不相交) 有关. 从另一个角度看, 平面是具有无穷大半径的球面, 于是无穷反而又导致了平凡.

我对欧氏几何的了解有限, 它不是当前 ZFC 公理体系下的主流数学, 但仍然有些知名问题 (例如, 如何最紧密地堆放球体). 人们已经证明了欧氏几何是相容且完备的, 这意味着任何问题都可以用有限个步骤**自动证明**, 也就是说: 像球体堆放那样的菲尔兹奖级别的东西, 只要有个超级计算机, 就完全可以机械式解决 (然而这个算力需求可能超过宇宙资源的总和).

刚刚也提到了, 欧式几何的完美, 代价是**只有代数数**且**没有无限**. 如果想引入实数, 最简单的方式就是用一些**二阶逻辑**. 记得大一时候学分析, 有个题目就是去证明单调有界, 有限覆盖, 柯西收敛准则等等这一堆是等价的. 因为**只有点而没有集合** (或者说**集合在欧式几何下变成了一种性质**, 这就看出 ZF 的巧妙之处了), 其中的任何一个引入欧氏几何后都是二阶逻辑. 二阶逻辑意味着整个系统不再是数学, 而是元语言, 可以任意定义而无需从性质上把要讨论的东西描述清楚, 所以欧式几何的扩充就到此为止了, 它不能拥有实数.

说个题外话. 现在想想, 单调有界等那一堆等价定理本质上就是承认了集合论, 有理数有序, 以及阿基米德性质 ($\forall a, b > 0, \exists n \in \mathbb{N}, na > b$: 计数可以衡量一切) 后的自然推论而已. 如果那时候有 agent 来准确捕捉到这些知识并从集合论学起, 保不准我会有幸在数学的道路上浪费更多时间.

## 后记

是的, 学术相关的探讨就到此为止了. 很多东西想说, 但并没总结成合适的语言, 因此没有提及. 混沌的大脑总是产生一些平凡却令自己着迷的思想.

如果要做个总结, 那就是说: 在人类的眼里, 算术, 计数和逻辑只能是同一回事, 不管是爱因斯坦还是你, 作为人类, 你们的理解能力都同样微弱. 这是造物主预先设定好的, 是任何人类都无法打破的瓶颈.

幸运的是, 这点微弱的理解能力能让我这样平凡的人也意识到这件事的存在. 我为此感到久违的欣慰.

## 附 1: ZF 公理系统

ZF 公理系统一般由 8 条公理 (8 个 "宇宙规则") 组成, 但其中一些是没必要的, 能由其他公理推导. 在定义之前, 需要承认**一阶逻辑**, 也就是说: 量词只能作用于个体 ("$\exists x (\phi(x))$"), 不能作用于性质 ("$\exists P (P(x))$").

> 例如, 在一阶逻辑, 我们可以说 "所有苹果都是红色的", 但不能说 "香蕉具有所有苹果的所有性质", 因为量词 "所有" 刻画了 "苹果的所有性质" 而不是 "苹果", 或者说这里的变量 $x$ 是 "苹果的性质". 实际上人类的直觉是二阶的, 所以没有人觉得第二句话 "越界", 但在数学里二阶逻辑会引入灾难.

为了简单起见, 我尽量用不严谨但可读的语言描述公理. 我将它们分为几个部分:

### 集合的定义公理

1. **外延公理 Axiom of Extensionality**: 集合由其成员唯一确定. (这相当于说 "$x$ 为集合的必要条件是 $x$ 由其成员唯一确定", 下同)
2. **正则公理 Axiom of Regularity**: 集合的 $\in$ 关系不得循环或无限下降. (禁止 $a \in a$ 或 $... \in a_2 \in a_1 \in a_0$)

### 集合的构造公理

3. **无穷公理 Axiom of Infinity**: 存在一个集合, 它包含空集且对后继运算封闭 ($\exists I (\emptyset \in I \land \forall x (x \in I \implies x \cup \{x\} \in I))$). (声明 "**归纳集**" 的存在)
4. **并集公理 Axiom of Union**: 可以提取集合的子集的所有元素, 构成新的集合. (允许集合降低层次)
5. **幂集公理 Axiom of Power Set**: 集合的所有子集构成集合. (即构成幂集. 允许集合提高 "势")
6. **替代公理模式 Axiom Schema of Replacement**: 集合在泛函公式下的像是集合. (这是最强大的公理模式. 每个 "泛函公式 f" 都对应生成一条公理 "AxiomOfReplacement(f)". 它强调**必须从集合生成集合**)

### 其他公理

还有些导出公理, 例如:

7. **空集公理 Axiom of Empty Set**: 空集存在.
8. **配对公理 Axiom of Pairing**: 两个集合 $x$, $y$ 可以构成新的集合 $\{x,y\}$. (同样由替代公理模式得到, 不过泛函构造更复杂, 还依赖无穷公理)
9. **分类公理模式 Axiom Schema of Specification**: 可以从已有的集合中筛选子集构成新的集合. (在替代公理模式中, 令泛函为 "筛选泛函" 即可得到. 该公理引导了**交集**, **差集**的合法性.)

### "泛函" 依赖公理系统吗?

你可能关心什么是 "泛函", 其实它在这里就只是指具有唯一目标的公式. 可以用逻辑语言来叙述它:

$$
\forall x \forall y \forall z \big( (\phi(x, y) \land \phi(x, z)) \to y \approx z \big)
$$

替代公理模式生成一族公理并作为集合的生成手段. 引入不同的 "泛函" 就导致不同的 "ZF 公理宇宙", 如冯诺伊曼的 $V$, 哥德尔的 $L$.

### "所有集合的集合"

关于 "所有集合的集合" 这个事物, 我们可以从以下角度来看:

1. 正则公理和幂集公理 (推导出的康托尔定理) 宣告了该事物不能称为 "集合".
2. 替代公理模式允许我们生成新的集合, 前提是有 "原像". 该事物的原像 (看起来) 只能是自己.

所以, "所有集合的集合" 不是 ZF 下的 "集合". 事实上这个描述是**二阶逻辑**.

### 自然数集的产生

ZF 去掉无穷公理仍可以定义自然数 (因为配对公理 + 并集公理仍可以定义 "后继" $x \cup \{x\}$), 但此时无法确定 "所有自然数构成的集合" 存在, 即无法将 "自然数" 这个**性质集合化** 成 "$\mathbb{N}$". 在一阶逻辑下, 无法集合化的性质不能带有量词 (这意味着甚至没有 $f: \mathbb{N} \rightarrow X$ 这种函数).

为了产生自然数集, 无穷公理从定义上说明了存在 "包含所有自然数的集合", 即**归纳集**. 然后根据分类公理模式, 我们定义自然数集合为所有归纳集的交集 (分类公理模式允许了这一点), 于是自然数集合 $\mathbb{N}$ 产生了, 自然数性质成功被集合化, 然后数学中的一切都看起来合法和熟悉了.
